<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="adminBoardMapper">

	<resultMap id="adminBoardResult" type="AdminBoard">
		<result column="board_no" property="boardNo"/>
		<result column="board_title" property="boardTitle"/>
		<result column="nickname" property="nickname"/>
		<result column="count" property="count"/>
		<result column="create_date" property="createDate"/>
		<result column="board_type" property="boardType"/>
	</resultMap>

	<select id="selectNoticeCount" resultType="_int">
		select
		       count(*)
		  from admin_board
		 where board_type = '공지사항'
		   and status = 'Y'
	</select>
	
	<select id="selectNoticeList" resultMap="adminBoardResult">
		select
		       board_no
		     , board_title
		     , nickname
		     , count
		     , to_char(create_date, 'YYYY-MM-DD') as create_date
		  from admin_board a
          join member m on m.user_no = a.user_no
		 where board_type = '공지사항'
		   and a.status = 'Y'
		 order
		    by board_no desc
	</select>
	
	<select id="selectFaqCount" resultType="_int">
		select
		       count(*)
		  from admin_board
		 where board_type = 'FAQ'
		   and status = 'Y'
	</select>
	
	<select id="selectFaqList" resultMap="adminBoardResult">
		select
		       board_no
		     , board_title
		     , nickname
		     , count
		     , to_char(create_date, 'YYYY-MM-DD') as create_date
		  from admin_board a
          join member m on m.user_no = a.user_no
		 where board_type = 'FAQ'
		   and a.status = 'Y'
		 order
		    by board_no desc
	</select>

</mapper>
